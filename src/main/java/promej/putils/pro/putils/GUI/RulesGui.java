package promej.putils.pro.putils.GUI;

import io.github.cottonmc.cotton.gui.client.BackgroundPainter;
import io.github.cottonmc.cotton.gui.client.LightweightGuiDescription;
import io.github.cottonmc.cotton.gui.widget.*;
import net.minecraft.client.MinecraftClient;
import net.minecraft.text.ClickEvent;
import net.minecraft.text.MutableText;
import net.minecraft.text.Style;
import net.minecraft.text.Text;

import java.util.ArrayList;

public class RulesGui
        extends LightweightGuiDescription {
    static WScrollPanel root;

    public RulesGui() {
        WText rules = new WText((Text)Text.literal((String)""));
        RulesGui.updateRules(rules, "");
        WGridPanel panel = new WGridPanel();
        panel.setSize(30, 30);
        panel.add((WWidget)rules, 1, 3, 50, 160);
        WTextField search = new WTextField();
        search.setSuggestion((Text)Text.literal((String)"Поиск..."));
        search.setBackgroundPainter(BackgroundPainter.createColorful((int)0x8B8B8B));
        search.setChangedListener(s -> RulesGui.updateRules(rules, s));
        panel.add((WWidget)search, 1, 1, 10, 1);
        root = new WScrollPanel((WWidget)panel);
        int height = MinecraftClient.getInstance().getWindow().getHeight() / 100 * 50 / 2;
        int width = MinecraftClient.getInstance().getWindow().getWidth() / 100 * 50 / 2;
        root.setSize(width, height);
        root.isScrollingVertically();
        this.setRootPanel((WPanel)root);
    }

    /*
     * WARNING - void declaration
     */
    public static void updateRules(WText text, String find) {
        int var6_8 = 0;
        String[] split;
        ArrayList<MutableText> rulesTextList = new ArrayList<MutableText>();
        String[] stringArray = split = "Основные положения:\n1.1 Играя на нашем проекте, вы соглашаетесь со всеми правилами и обязуетесь их соблюдать.\n\n1.2 Незнание правил не освобождает вас от ответственности. Всю ответственность несет владелец аккаунта, независимо от того, кто совершал действия под данным аккаунтом.\n\n1.3 Все лица сами несут ответственность за безопасность своего аккаунта и обязуются соблюдать все надлежащие меры по обеспечению его безопасности.\n\n1.4 Администрация управляет проектом по своему усмотрению и вправе наказать любое лицо по причине, не указанной в правилах, или без объяснения причин.\n\n1.5 Администрация невправе корректировать данный свод правил без уведомлений об изменениях хотя бы в одном из социальных ресурсов проекта.\n\n1.6 Администрация не несёт ответственности за временную или постоянную невозможность игры на проекте, но обязана предпринять все допустимые меры для избегания недоступности проекта.\n\n1.7 Администрация имеет право удалить заброшенные постройки, если владелец территории не заходит на сервер в течение 30 дней.\n\n1.8 Средства, переданные за услуги проекта, являются добровольным пожертвованием и не возвращаются ни при каких обстоятельствах.\n\n1.9 Предоставьте чек оплаты, если хотите написать Администрации о пропаже, непоявлении доната после покупки. Без данного подтверждения администрация вправе отказать Вам в предоставлении услуги.\n\nАккаунт:\n2.1 Запрещены никнеймы, названия, надписи, подписи, содержащие:\n\n- Оскорбление, мат, фашизм, нацизм, расизм, сексизм, гомофобию, экстремизм\n\n- Никнеймы схожие с Администрацией проекта.\n\n- Рекламу сторонних проектов.\n\nНаказание: вечный бан.\n2.2 Запрещена продажа/передача любых аккаунтов.\n\nНаказание: вечный бан.\n2.3 Махинации с оплатой и ввод Администрации в заблуждение наказываются без возврата средств.\n\nНаказание: вечный бан.\n2.4 Привилегии или донат не переносятся на другие аккаунты в целях безопасности.\n\n2.5 Администрация имеет право отказать в предоставлении услуг.\n\n2.6 Каждый вправе иметь несколько игровых аккаунтов.\n\n2.7 Запрещено собирать и распространять любую информацию о частной жизни, персональные данные, в том числе публиковать переписку без согласия. (Отправка сообщений относящихся к лицу, нарушающему правила, не считается нарушением).\n\nГриферство:\n3.1 Запрещено при наличии региона (привата):\n\n3.1.1 В названии региона не должно присутствовать следующее: оскорбление, мат, фашизм, нацизм, расизм, сексизм, гомофобию, экстремизм\n\n3.1.2 Ставить флаги, которые ограничивают действия игрока: не позволяют игроку использовать команды, передвигаться и т.п. (исключение: ограничение на PvP);\n\n3.1.3 Приносить вред чужим постройкам с помощью поршней, разлива воды, лавы и прочих жидкостей;\n\n3.1.4 Намеренно блокировать доступ к чужим сооружениям, выстраивая глухие стены, вырывая окопы, разливая жидкости;\n\n3.1.5 Убивать мирных животных в загонах/выталкивать животных из загонов;\n\n3.1.6 Намеренно уничтожать чужие посевы;\n\n3.1.7 Создавать регионы слишком близко (до 5 блоков) и поверх к чужим регионам без договорённости с владельцами соседних регионов (скриншот с договоренностью должен храниться у обеих сторон);\n\nНаказание за нарушение пунктов 3.1.1 - 3.1.6: бан на 1 день;\nЗа нарушение пункта 3.1.7: предупреждение или бан на 1 день (усмотрение Администратора).\n3.2 Создатель привата при наличии доказательств имеет право жаловаться на участника привата за разрушение структур и построек.\n\nНаказание: бан на 1 день.\n3.3 Запрещено разрушать, приватить постройки, которые в настоящий момент строятся. А также, если владелец постройки находится близь с ней.\n\nНаказание: бан на 1 день.\n3.4 Запрещено устанавливать точку дома или точку варпа в чужом регионе без разрешения владельца привата (скриншот с разрешением должен храниться у обеих сторон).\n\nНаказание: бан на 3 часа.\n3.5 Если владелец региона просит покинуть территорию, лицо (исключение: администрация, модерация, хелперы) обязано выполнить его просьбу.\n\nНаказание: предупреждение «Помеха в регионе».\n3.6 Регулировка отношений внутри региона происходит самими лицами, участниками привата (если вы добавляете иное лицо в регион, оно имеет полное право забрать все ваши ресурсы).\n\n3.7 Постройки, оставленные за зоной региона (привата), будут доступны для других лиц.\n\nАдминистрация не несет ответственность за потерю имущества.\n3.8 Вся незаприваченная территория попавшая под приват другого лица становится его собственностью.\n\n3.9 Запрещено убивать любые лица при запросе на телепортацию.\n\nНаказание: бан на 1 день.\n3.10 Запрещено строительство и использование ловушек.\n\nНаказание: бан на 1 день.\n3.11 Запрещено заманивать лица в ловушки.\n\nНаказание: бан на 1 день.\n3.12 Убийство в мире не считается нарушением.\n\n3.13 Лицо не обязано возвращать потерянные в PvP или же случайно выброшенные вещи.\n\nИсключение из правил (наказания за параграф 3 полностью упразнются): Режим, где разрешено гриферство, об этом будет указано в описании режима.\nИгровой мир:\n4.1 Запрещено создавать излишнюю нагрузку на сервер с помощью постройки/механизма/действия, которые приводят к сбоям в работе режима.\n\nНаказание: бан на 3 дня.\n4.2 Попытка или нанесение вреда серверу карается баном навсегда.\n\n4.3 Запрещено использование багов или уязвимостей.\n\nНаказание: бан на 3 дня.\n4.4 Запрещено распространять информацию о багах или уязвимостях. Лицо, обнаружившее баг, должено сообщить о нем Администрации незамедлительно или при первой возможности.\n\n4.5 Лицу запрещено использовать, хранить сторонние программы, скрипты, моды (читы) и т.п. для облегчения или изменения игрового процесса.\n\nНаказание: бан на 3 дня.\n4.6 Если у Администрации возникает подозрение на использование сторонних программ (скриптов, читов и т.п) администрация в праве позвать любое лицо на проверку своего персонального компьтера (ПК). Подозреваемое лицо в течении 15 минут должно ответить вызывающему на проверку и следовать его указаниям. В случае отказа (прекращение контакта, по неуважительной причине, считается отказом) - даётся бан на 3 дня. Если при проверке будут обнаружены любые признаки стороннего программного обеспечения (скрипта, читов и т.п), лицу будет выдан бан на 3 дня.\n\nПроверка ПК включает в себя:\n- Включение демонстрации экрана.\n- Проверка файлов игры без выключения клиента.\n4.7 Запрещено выходить во время проверки на наличие читерского стороннего программного обеспечения (ЧСПО).\n\n4.8 Только Администрация имеет право вызвать лицо для проверки на наличие запрещенного ЧСПО.\n\nИным лицам ЗАПРЕЩЕНО вызывать на проверку.\nНаказание: предупреждение.\n4.9 Запрещено создание провокационных структур: свастик, фаллических строений, непристойных пиксель-артов, гигантских надписей или табличек, содержащих оскорбления.\n\nНаказание: бан на 1 день.\n4.10 Запрещено намеренно портить внешний вид мира.\n\nНаказание: бан на 3 дня. В индивидуальных случаях предупреждение (зависит от объема).\n4.11 Запрещено намеренно портить игровой процесс, мешать.\n\nНаказание: бан на 1 день\n4.12 Запрещено хранение, распространение и использование предметов, полученных нечестным путём: с высокими чарами или аттрибутами.\n\nЗапрещено хранить предметы, в названии или описании которого присутствуют: оскорбление, мат, реклама, фашизм, нацизм, расизм, сексизм, гомофобию, экстремизм, фейковые чары.\n\nЗапрещенные предметы должны передаваться модераторам или администраторам.\n\nНаказание: Предупреждение / бан на 2 часа/ 1 день.\n4.13 При обнаружении подозрительных предметов, вещей, событий, любое лицо обязано сообщить об этом Администрации.\n\n4.14 Запрещена накрутка счётов статистики.\n\nНаказание: бан на 1 день.\n4.15 Запрещено провоцировать на нарушение правил.\n\nНаказание: бан на 1 день.\n4.16 Обман с целью получения реальных денег - карается баном навсегда.\n\n4.17 Обман с целью получения DragonCoin или иной валюты - карается баном на 7 дней.\n\n4.18 Продажа лицами игровых вещей за реальные деньги - карается баном навсегда.\n\n4.19 Обман Администрации, в том числе, дача ложных показаний против других лиц - карается баном на 7 дней.\n\n4.20 Обман с целью получения доступа к чужому аккаунту - карается баном на 7 дней.\n\n4.21 Выдача себя за Администрацию - карается баном на 7 дней.\n\n4.22 Запрещена реклама/упоминание сторонних проектов (Каналы, сервера, проекты, группы и т.д.)\n\nПримечание:\nРазрешено рекламировать канал во время прямой трансляции на проекте.\nНаказание: за непреднамеренную рекламу - словестное предупреждение или мут от 1 часа.\nЗа преднамеренную рекламу бан навсегда.\n4.23 Запрещено распространять слухи, клевету о проекте и администрации, модерации, хелперах.\n\nЧат и общение:\n5.1 Запрещено оскорблять любых лиц и их родственников; Оскорблять представителей администрации, модерации, хелперов, режим или проект в целом.\n\n5.2 Запрещается употребление ненормативной лексики (мата).\n\nЛюбой мат, даже если половина слова закрыто звездочками *, если поменяли согласные, гласные или символы, если написано на английском и иные методы завуалирования нецензурного выражения.\n\n5.3 Запрещается флуд (Сообщения, повторяющиеся по смыслу или содержанию, считаются флудом.) Мут даётся за 3 сообщения. Повторные сообщения можно ещё раз отправить по истечении 5 минут прошлой отправки сообщений.\n\n5.4 Запрещено попрошайничать (многократно просить) и требовать что-либо.\n\n5.5 Запрещено обсуждение политики.\n\n5.6 Запрещены обсуждение религии и оскорбление чувств верующих.\n\n5.7 Пропаганда наркотиков, алкоголя, курения запрещена.\n\n5.8 Сообщения, содержащие: фашизм, нацизм, расизм, сексизм, гомофобию, экстремизм запрещены.\n\n5.9 Запрещены любые угрозы расправы вне проекта.\n\n5.10 Запрещено создание и участие в конфликтных ситуациях.\n\nНаказание: мут всем лицам конфликта.\n5.11 Запрещено нарушать вышеперечисленные пункты(5.1 - 5.3, 5.5 - 5.9), используя книгу или табличку.\n\nНаказание: предупреждение.\nНаказание за нарушение пунктов 5.1-5.10: мут на срок от 10 минут до 3 часов.\nМут выдаётся по арифметической прогрессии, т.е. за первое нарушение выдаётся на 10 минут, при повторном на 20 минут, следующее на 30 и так далее до 3-х часов.\nПолномочия привилегий\n6.1 Донатер не имеет права изымать предметы из инвентаря игроков.\n\nНаказание: бан на 3 дня.\n6.2 Донатер не имеет права взаимодействовать (удалять или разрушать постройки на территории) с чужими регионами, добавлять себя или других игроков в хозяева или члены региона без разрешения владельца региона.\n\nНаказание: бан на 3 дня.\n6.3 Донатер не является членом Администрации и не имеет права говорить от лица Администрации.\n\nНаказание: бан на 3 дня.\n6.4 Запрещено разбанивать/размучивать игроков, которые были наказаны официальной Администрацией.\n\nНаказание: бан на 3 дня.\n6.5 Донатер обязан хранить доказательства нарушений (за которые он выдал наказания) не менее 7 дней и в случае необходимости (по просьбе Модератора, Администратора) обязан предоставить их в соответствующей теме.\n\nТОЛЬКО Администрация/Модерация имеет право запрашивать доказательства на нарушение правил у лиц без доната.\n\nНаказание: бан на 3 дня.\n6.6 Запрещена выдача наказания по некорректной причине. Нужно указывать в причину трактовку, нарушенного пункта правил или описания.\n\nНаказание: предупреждение.\n6.7 Запрещено выдавать наказание лицу, если оно не нарушало правил.\n\nНаказание: бан на 3 дня.\n6.8 Запрещено выдавать самому себе наказание, если не было нарушения.\n\nНаказание: бан на 3 часа.\n6.9 Запрещено снимать наказания лицам, которые были наказаны донатерами корректно по корректной причине.\n\nНаказание: бан на 3 дня.\n6.10 Донатер не имеет права угрожать баном/мутом/киком/тюрьмой в отсутствие явных нарушений со стороны любого лица.\n\nНаказание: бан на 1 день.\n6.11 Запрещено телепортироваться к лицам, телепортировать лица к себе с помощью команды /tp с целью убийства.\n\nНаказание: бан на 3 дня.\n6.12 Запрещено телепортировать лица без их разрешения. (Исключение: вы можете телепортировать лицо на спавн или в любое другое безопасное место, если он мешает вам в вашем регионе).\n\nНаказание: бан на 1 день.\n6.13 Запрещено убивать лица и наносить им урон в творческом режиме (/gamemode 1), в режиме полёта (/fly), в режиме бога (/god), с помощью эффектов, которые не могут быть вызваны зельями (/effect), командой /kill, /burn, молнией и другими подобными командами. (Использовать /boost позволено)\n\nНаказание: бан на 3 дня.\n6.14 Запрещено убивать игроков/наносить им урон в «превращениях», графическая модель которых меньше модели игрока. Например, летучая мышь.\n\nНаказание: бан на 1 день.\n6.15 Запрещено пользоваться командой /heal в PvP.\n\nНаказание: бан на 1 день.\n6.16 Запрещено менять игровой режим (/gamemode) и включать режим полёта (/fly) обычным игрокам и донатерам, у которых нет доступа к таким возможностям. (Исключение: временная выдача доступная Донату)\n\nНаказание: бан на 3 дня.\n6.17 Запрещено насильно выдавать донат посредством возмножности доната (/grant).\n\nНаказание: бан на 3 дня.\n6.18 Запрещено использовать свой статус в корыстных целях.\n\nНаказание: бан на 3 дня.\n6.19 Лицо, имеющее доступ к креативу, имеет право проводить раздачи.\n\nНаказание за нарушение пунктов 6.5-6.8 выдаёт Администрация сервера. Каждый случай будет рассматриваться индивидуально.\nВ качестве предупреждения разрешено использовать команду /kick\nВ особо тяжких случаях администрация в праве лишить лицо привилегий или доната.\nПравила действуют на тех режимах, на которых донатерам доступны представленные возможности.\nМодерация\n7.1 Модератор/хелпер является добровольным помощником администрации проекта.\n\n7.2 Модератор/хелпер следит за соблюдением правил.\n\n7.3 Модераторы/хелперы выбираются представителями администрации самостоятельно и обсуждению не подлежат.\n\n7.4 Модераторы/хелперы – доверенные лица администрации.\n\n7.5 Правомерные действия администрации, модерации, хелперов - не обсуждаются.\n\n7.6 Запрещено обращаться к администрации, модерации, хелперам без необходимости. Любое обращение должно содержать чёткое изложение проблемы лица или вопрос, касающийся конкретно работы проекта. Любое другое обращение может расцениваться как флуд.\n\n7.7 Модератор/хелпер вправе увеличить или смягчить наказание для лица, принимать собственные решения, не оговоренные в правилах, на основании улучшения проекта. Модератор, в спорных ситуациях, обязан руководствоваться лишь целью созданных правил и здравым смыслом, во имя развития проекта. Каждая спорная ситуация решается индивидуально.\n\n7.8 Администрация НЕ обязана возвращать вещи в следующих случаях:\n\n-Удаление системой очистки дропа.\n-Кража имущества с незаприваченной территории.\n-Кража имущества лицами, состоящими в привате.\n-Вайп (полная очистка мира) или откат карты.\n-Различные баги игры, произошедшие не по вине администрации.\n7.9 Все лица обязаны выполнять требования Администрации.\n\n7.10 В случае необходимости, лицо может быть временно забанено модерацией, на время разрешения инцидента с нарушением правил.\n\n7.11 Администрация вправе увеличить срок наказания при многократном нарушении правил.\n".split("\n");
        int n = stringArray.length;
        boolean bl = false;
        while (var6_8 < n) {
            String rule = stringArray[var6_8];
            if (find.length() > 0) {
                if (rule.toLowerCase().contains(find.toLowerCase())) {
                    rulesTextList.add(Text.empty().append(rule).setStyle(Style.EMPTY.withClickEvent(new ClickEvent(ClickEvent.Action.COPY_TO_CLIPBOARD, rule))));
                    rulesTextList.add(Text.empty().append("\n"));
                }
            } else {
                rulesTextList.add(Text.empty().append(rule).setStyle(Style.EMPTY.withClickEvent(new ClickEvent(ClickEvent.Action.COPY_TO_CLIPBOARD, rule))));
            }
            ++var6_8;
        }
        MutableText fullRules = Text.empty();
        for (Text Text2 : rulesTextList) {
            fullRules = fullRules.copy().append(Text2);
            fullRules = fullRules.copy().append((Text)Text.literal((String)"\n"));
        }
        text.setText((Text)fullRules);
    }
}
